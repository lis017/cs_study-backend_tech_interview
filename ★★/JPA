(Entity)영속성 컨텍스트 4가지 상태
->비영속 → 영속 → 준영속 → 삭제
->"엔티티는 비영속 상태에서 persist 호출 시 영속 상태가 되고, detach 또는 clear 호출 시 준영속 상태가 되며, remove 호출 시 삭제 상태가 됩니다."

영속일때만 더티체킹 일어남.

(jpa만)(mybatis는 별개)영속 아니면 insert도 update도 set()도 모두안됨.
영속상태여야 하며 더티체킹도 영속이어야함
----------------
fetch join과 page에서 주의점
-> toMany등 컬렉션을 fetchjoin하면
양 너무 많아져서 페이지가 틀어짐
--------------
JPA
-> + 객체그래프 관리를 해준다
--------------
1️⃣ Persist가 뭐냐?
Persist = 영속성 컨텍스트에 엔티티를 올려서 “DB에 INSERT 예약” 하는 행위입니다.
->트랜잭션 commit 시점에 flush 되면서 SQL 실행
-----------
LAZY 부분은 실제 로딩전엔 프록시객체가 들어있다.

@ManyToOne이 있어야 LAZY등이 있을때 프록시객체를 생성해줌.
--------------
6️⃣ Persist vs Remove
Persist
신규 엔티티 등록
insert 예약
flush 시 insert 실행
Remove
Java
코드 복사
entityManager.remove(entity);
삭제 예약
flush 시 delete 실행
영속성 컨텍스트에서도 제거